{"name": "test_day4", "status": "broken", "statusDetails": {"message": "TypeError: a bytes-like object is required, not 'method'", "trace": "def test_day4():\n    \n        url = 'http://live.techpanda.org/'\n        driver = webdriver.Chrome()\n        phone1 = 'Sony Xperia'\n        phone2 = 'IPhone'\n        driver.maximize_window()\n    \n    \n        with allure.step(\"Step 1: goto live.techpanda.org\"):\n            driver.get(url)\n            time.sleep(0.5)\n    \n        with allure.step(\"Step 2: click on MOBILE menu\"):\n            driver.find_element(By.LINK_TEXT, 'MOBILE').click()\n            time.sleep(1)\n    \n        with allure.step(\"Step 3: click ADD TO COMPARE for Sony Xperia and Iphone\"):\n            phone1XPATH = '//h2[@class=\"product-name\"]/a[@title=\"' + phone1 + '\"]//ancestor::h2//following-sibling::div[@class=\"actions\"]//a[@class=\"link-compare\"]'\n            driver.find_element(By.XPATH,phone1XPATH).click()\n            time.sleep(0.3)\n            phone2XPATH = '//h2[@class=\"product-name\"]/a[@title=\"' + phone2 + '\"]//ancestor::h2//following-sibling::div[@class=\"actions\"]//a[@class=\"link-compare\"]'\n            driver.find_element(By.XPATH,phone2XPATH).click()\n            time.sleep(1)\n            allure.attach(driver.get_screenshot_as_png(),name='add to compare',attachment_type=allure.attachment_type.PNG)\n    \n        with allure.step(\"Step 4: click on COMPARE button\"):\n            driver.find_element(By.XPATH, '//button[@title=\"Compare\"]').click()\n            time.sleep(1)\n    \n    \n        with allure.step(\"Step 5: verify the pop-up window and check the products are reflected in it\"):\n            all_windows = driver.window_handles\n            # verify a new window popup\n            assert len(all_windows) == 2\n            # change to a new window\n            for window in all_windows:\n                if window != driver.current_window_handle:\n                    driver.switch_to.window(window)\n                    break\n>           allure.attach(driver.get_screenshot_as_png, name='compare window', attachment_type=allure.attachment_type.PNG)\n\ntest_Day4.py:49: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\_allure.py:200: in __call__\n    plugin_manager.hook.attach_data(body=body, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_pytest\\listener.py:252: in attach_data\n    self.allure_logger.attach_data(uuid4(), body, name=name, attachment_type=attachment_type, extension=extension)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\reporter.py:165: in attach_data\n    plugin_manager.hook.report_attached_data(body=body, file_name=file_name)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py:513: in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py:120: in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <allure_commons.logger.AllureFileLogger object at 0x0000019F1E00FA30>\nbody = <bound method WebDriver.get_screenshot_as_png of <selenium.webdriver.chrome.webdriver.WebDriver (session=\"86d28c9aad45706f02459552bbba8e64\")>>\nfile_name = 'e335e4ca-d58c-4c87-b703-fd672729f272-attachment.png'\n\n    @hookimpl\n    def report_attached_data(self, body, file_name):\n        destination = self._report_dir / file_name\n        with open(destination, 'wb') as attached_file:\n            if isinstance(body, str):\n                attached_file.write(body.encode('utf-8'))\n            else:\n>               attached_file.write(body)\nE               TypeError: a bytes-like object is required, not 'method'\n\n..\\..\\..\\..\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\logger.py:48: TypeError"}, "steps": [{"name": "Step 1: goto live.techpanda.org", "status": "passed", "start": 1724013919945, "stop": 1724013921691}, {"name": "Step 2: click on MOBILE menu", "status": "passed", "start": 1724013921692, "stop": 1724013923178}, {"name": "Step 3: click ADD TO COMPARE for Sony Xperia and Iphone", "status": "passed", "attachments": [{"name": "add to compare", "source": "e7461df3-0cfe-4b6e-ba87-15c819057421-attachment.png", "type": "image/png"}], "start": 1724013923178, "stop": 1724013925750}, {"name": "Step 4: click on COMPARE button", "status": "passed", "start": 1724013925751, "stop": 1724013926812}, {"name": "Step 5: verify the pop-up window and check the products are reflected in it", "status": "broken", "statusDetails": {"message": "TypeError: a bytes-like object is required, not 'method'\n", "trace": "  File \"C:\\Users\\Nemo\\Documents\\Automation_Testing_Learning\\Guru99_LiveProjects\\Live_Selenium_2\\test_Day4.py\", line 49, in test_day4\n    allure.attach(driver.get_screenshot_as_png, name='compare window', attachment_type=allure.attachment_type.PNG)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\_allure.py\", line 200, in __call__\n    plugin_manager.hook.attach_data(body=body, name=name, attachment_type=attachment_type, extension=extension)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    raise exception.with_traceback(exception.__traceback__)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"c:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_pytest\\listener.py\", line 252, in attach_data\n    self.allure_logger.attach_data(uuid4(), body, name=name, attachment_type=attachment_type, extension=extension)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\reporter.py\", line 165, in attach_data\n    plugin_manager.hook.report_attached_data(body=body, file_name=file_name)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_hooks.py\", line 513, in __call__\n    return self._hookexec(self.name, self._hookimpls.copy(), kwargs, firstresult)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_manager.py\", line 120, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 139, in _multicall\n    raise exception.with_traceback(exception.__traceback__)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\pluggy\\_callers.py\", line 103, in _multicall\n    res = hook_impl.function(*args)\n  File \"C:\\Users\\Nemo\\AppData\\Local\\Programs\\Python\\Python310\\lib\\site-packages\\allure_commons\\logger.py\", line 48, in report_attached_data\n    attached_file.write(body)\n"}, "attachments": [{"name": "compare window", "source": "e335e4ca-d58c-4c87-b703-fd672729f272-attachment.png", "type": "image/png"}], "start": 1724013926813, "stop": 1724013926844}], "start": 1724013918732, "stop": 1724013926885, "uuid": "6c897245-cad0-4521-90ea-5ae5e0965ae2", "historyId": "14f5e66e392af508e77d4c430f9400d3", "testCaseId": "14f5e66e392af508e77d4c430f9400d3", "fullName": "test_Day4#test_day4", "labels": [{"name": "suite", "value": "test_Day4"}, {"name": "host", "value": "NEMO"}, {"name": "thread", "value": "52568-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_Day4"}]}